Add pure Python fallback for functools.reduce.
Patch by Robert Wright.
